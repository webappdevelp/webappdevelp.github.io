<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="zh-CN">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="记录工作、生活中的点点滴滴">
<meta property="og:type" content="website">
<meta property="og:title" content="🐈猫被调戏了">
<meta property="og:url" content="http://yoursite.com/page/3/index.html">
<meta property="og:site_name" content="🐈猫被调戏了">
<meta property="og:description" content="记录工作、生活中的点点滴滴">
<meta property="og:locale" content="zh-CN">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="🐈猫被调戏了">
<meta name="twitter:description" content="记录工作、生活中的点点滴滴">






  <link rel="canonical" href="http://yoursite.com/page/3/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>🐈猫被调戏了</title>
  









  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">🐈猫被调戏了</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">记录工作、生活中的点点滴滴</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />首页</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />归档</a>
  </li>

      
      
    </ul>
  

  
    

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/使用react-router-dom作为前端页面的访问路由-React项目实战教程四/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/使用react-router-dom作为前端页面的访问路由-React项目实战教程四/" itemprop="url">
                  使用react-router-dom作为前端页面的访问路由(React项目实战教程四)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-21 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-21T00:00:00+08:00">2018-03-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:43:20" itemprop="dateModified" datetime="2018-03-22T18:43:20+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://reacttraining.com/react-router/web/guides/quick-start">React-router-dom</a>可以帮我前端自己来实现页面访问路劲而不需要依赖后端路由，下面来为我们的React实战项目增加路由功能。</p>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>首先是要安装react-router-dom依赖包，命令如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add react-router-dom</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>当然此时你应该在你的当前项目[project-name]下面，而不是把react-router-dom安装在了其他地方。</p>
</blockquote>
<h3 id="配置Router"><a href="#配置Router" class="headerlink" title="配置Router"></a>配置Router</h3><p>安装好了react-router-dom后，我们就需要配置前端路由。<br>在src目录下面新建<strong>routes.js</strong>文件，然后把页面组件引入到routes.js内，如下：<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; BrowserRouter, Route, Switch &#125; <span class="keyword">from</span> <span class="string">'react-router-dom'</span>;</span><br><span class="line"><span class="keyword">import</span> Home <span class="keyword">from</span> <span class="string">'./views/home'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Routes = (</span><br><span class="line">  &lt;BrowserRouter&gt;</span><br><span class="line">    &lt;Switch&gt;</span><br><span class="line">      &lt;Route path=<span class="string">"/"</span> component=&#123;Home&#125; /&gt;</span><br><span class="line">    &lt;<span class="regexp">/Switch&gt;</span></span><br><span class="line"><span class="regexp">  &lt;/</span>BrowserRouter&gt;</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Routes;</span><br></pre></td></tr></table></figure></p>
<p>保存好之后，我们的路由就算配置完成了。<br>然后路由里面用到了页面组件，所以我们要先来建一个Home的组件，然后让项目跑起来。</p>
<h3 id="创建组件"><a href="#创建组件" class="headerlink" title="创建组件"></a>创建组件</h3><p>我们在src下面新建一个<strong>views</strong>目录，然后在views下面新建<strong>home</strong>目录，最后在home目录下面新建<strong>index.js</strong>，这里面就是我们要的Home组件。可以看如下图示：<br><img src="/images/react/06.png" alt=""><br>然后编辑<strong>App.js</strong>，把我们的路由应用到app上：<br><figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> React <span class="keyword">from</span> <span class="string">'react'</span>;</span><br><span class="line"><span class="keyword">import</span> Routes <span class="keyword">from</span> <span class="string">'./routes'</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> Routes;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure></p>
<p>保存，然后yarn start启动项目看看浏览器是否通过路由显示了我们所需要的页面组件。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/配置使用Sass或Less预编译css工具-React项目实战教程二/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/配置使用Sass或Less预编译css工具-React项目实战教程二/" itemprop="url">
                  配置使用Sass或Less预编译css工具(React项目实战教程二)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-20T00:00:00+08:00">2018-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:44:19" itemprop="dateModified" datetime="2018-03-22T18:44:19+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用CSS预编译工具其实都不陌生了，如何在React项目中使用像Sass、Less这样的CSS预编译工具呢？这里我们就需要安装webpack的sass-loader或者less-loader了。<br>下面我们来进行安装和配置：</p>
<h3 id="安装loader"><a href="#安装loader" class="headerlink" title="安装loader"></a>安装loader</h3><p>安装sass-loader或less-loader<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add sass-loader  // 或 yarn add less-loader</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>安装sass-loader需要依赖node-sass，而安装less-loader需要依赖less。如果出现安装失败的情况，可以试试翻墙出去。</p>
</blockquote>
<p>安装完毕后，我们来进行webpack的配置。</p>
<h3 id="配置loader"><a href="#配置loader" class="headerlink" title="配置loader"></a>配置loader</h3><p>create-react-app默认给我们安装好了css的一些工具，比如autoprefixer、postcss等。而且webpack无论是development或是production环境，css都有处理的。所以，我们将webpack.config.dev.js和webpack.config.prod.js里面的css loader配置项抽离出来。<br>在config目录下面新建一个postcss.config.js文件，然后把postcss plugins相关内容copy到postcss.config.js文件内，<strong>注意依赖包的引入</strong>。<br>完了之后，我们export出去。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> autoprefixer = <span class="built_in">require</span>(<span class="string">'autoprefixer'</span>);</span><br><span class="line"><span class="keyword">const</span> flexBugs = <span class="built_in">require</span>(<span class="string">'postcss-flexbugs-fixes'</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> postcssConfig = [</span><br><span class="line">  flexBugs,</span><br><span class="line">  autoprefixer(&#123;</span><br><span class="line">    browsers: [</span><br><span class="line">      <span class="string">'&gt;1%'</span>,</span><br><span class="line">      <span class="string">'last 4 versions'</span>,</span><br><span class="line">      <span class="string">'Firefox ESR'</span>,</span><br><span class="line">      <span class="string">'not ie &lt; 9'</span>, <span class="comment">// React doesn't support IE8 anyway</span></span><br><span class="line">    ],</span><br><span class="line">    flexbox: <span class="string">'no-2009'</span>,</span><br><span class="line">  &#125;),</span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports = postcssConfig;</span><br></pre></td></tr></table></figure></p>
<p>然后修改webpack.config.dev.js和webpack.config.prod.js对应css loader中 postcss插件配置的地方。<br>之后，我们再把安装好的sass-loader或less-loader配置到css loader的地方，并修改匹配文件后缀为scss或less。可以看如下图：<br><img src="/images/react/04.png" alt="loader"></p>
<h3 id="修改css后缀为scss或less"><a href="#修改css后缀为scss或less" class="headerlink" title="修改css后缀为scss或less"></a>修改css后缀为scss或less</h3><p>配置好了loader后，我们再把项目里面的<strong>.css</strong>文件修改成后缀为<strong>.scss</strong>或<strong>.less</strong>，然后用 yarn start 启动项目，在浏览器里面我们可以看下我们的配置是否起作用了。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/vscode设置编写react时使用emmet代码提示/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/vscode设置编写react时使用emmet代码提示/" itemprop="url">
                  vscode设置编写react时使用emmet代码提示
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-20T00:00:00+08:00">2018-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-25 15:04:52" itemprop="dateModified" datetime="2018-03-25T15:04:52+08:00">2018-03-25</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/工具/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>使用vs code编写react项目，假如文件后缀为.js的时候，在js里面写html没有emmet的代码提示功能，这个时候会显得特别麻烦和吃力。怎样在vs code编辑器上设置emmet提示呢？</p>
<h3 id="配置vscode"><a href="#配置vscode" class="headerlink" title="配置vscode"></a>配置vscode</h3><p>找到vs code的设置，在设置里面搜索<strong>emmet</strong>，然后找到<strong>emmet.includeLanguages</strong>，鼠标移上去后点击左边的编辑图标，然后在编辑器右侧的自定义内写入配置。如下图：<br><img src="/images/180320/01.png" alt=""></p>
<blockquote>
<p>如果是用的typescript版的react项目的话，就可以不用做上面的配置了，编写的时候可以直接使用emmet代码提示。</p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/配置eslint代码检查工具-React项目实战教程三/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/配置eslint代码检查工具-React项目实战教程三/" itemprop="url">
                  配置eslint代码检查工具(React项目实战教程三)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-20T00:00:00+08:00">2018-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:44:12" itemprop="dateModified" datetime="2018-03-22T18:44:12+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>其实我们可以看下工程里面webpack.config.*.js里面的loader配置，有一个<strong>eslint-loader</strong>。这个就是脚手架为我们配置好的项目启动时的代码检查操作。如果要正确的使用这个eslint代码检查工具，我们还需要在工程里面做eslint的配置。如何配置eslint？</p>
<h3 id="安装eslint"><a href="#安装eslint" class="headerlink" title="安装eslint"></a>安装eslint</h3><p>使用下面的命令检查一下你的当前工程环境或者系统环境有没有安装eslint：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npx eslint -v</span><br></pre></td></tr></table></figure></p>
<p>如果出现了版本号，说明咱已经安装了eslint，如果没有，则需要进行安装：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add eslint</span><br></pre></td></tr></table></figure></p>
<p>安装好了之后，我们就可以用eslint的命令来生成一个配置文件。</p>
<h3 id="配置eslint"><a href="#配置eslint" class="headerlink" title="配置eslint"></a>配置eslint</h3><p>使用eslint –init选择对话形式创建eslint配置文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npx eslint --init</span><br></pre></td></tr></table></figure></p>
<p>根据对话内容，做相应的应答，之后就会在项目目录下面生成一个eslint的配置文件。可见下图：<br><img src="/images/react/05.png" alt="eslint config"></p>
<h3 id="使用eslint"><a href="#使用eslint" class="headerlink" title="使用eslint"></a>使用eslint</h3><p>上面我们说到create-react-app脚手架已经帮我们配置好了webpack打包编译时先执行eslint-loader做代码检查，那我们其实只要重新yarn start就能看到命令行有eslint的代码检查提示了。</p>
<h3 id="修改eslint"><a href="#修改eslint" class="headerlink" title="修改eslint"></a>修改eslint</h3><p>有时候我们做调试的时候，可能需要console打印一下内容。而按照对话形式创建的eslint配置文件中并没有console相关的配置，但我们可以编辑配置文件，在里面进行增删改查操作。<br>去掉console的提示，可以增加一条rules：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;no-console&quot;: &quot;off&quot;</span><br></pre></td></tr></table></figure></p>
<p>保存，再yarn start看下。<br>不过，这里重点讲一下由于我们安装了eslint，并配置了eslint后，导致webpack编译时候提示：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">error  &apos;React&apos; is defined but never used   no-unused-vars</span><br><span class="line">error  &apos;App&apos; is defined but never used  no-unused-vars</span><br></pre></td></tr></table></figure></p>
<p>这个提示如何处理？同样还是修改eslint的配置文件。找到extends，把默认的修改成如下即可：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;extends&quot;: [</span><br><span class="line">    &quot;eslint:recommended&quot;,</span><br><span class="line">    &quot;plugin:react/recommended&quot;</span><br><span class="line">],</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p><a href="http://eslint.cn/">eslint官方文档中文版地址</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/搭建React项目工程环境并做自定义配置-React项目实战教程一/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/搭建React项目工程环境并做自定义配置-React项目实战教程一/" itemprop="url">
                  搭建React项目工程环境并做自定义配置(React项目实战教程一)
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-20 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-20T00:00:00+08:00">2018-03-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:43:57" itemprop="dateModified" datetime="2018-03-22T18:43:57+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>现在的前端要学的真多，想学<a href="https://reactjs.org/">React</a>，还得先学<a href="https://webpack.js.org/"><strong>webpack</strong></a>。当去看了webpack的文档后，感觉要跪了。即便是跟着官方文档，配置到一半已经很没有耐心了有木有？嗯，别怕，React官方有快速脚手架可以使用，那就是<strong>create-react-app</strong>。我们可以用这个快速的搭建起一套可用的工程环境。但本教程一教大家如何用create-react-app生成一个可配置工程的环境，并做一些基本的工程配置。</p>
<blockquote>
<p>create-react-app 官方链接，<a href="https://github.com/facebook/create-react-app">请点击这里</a></p>
</blockquote>
<h3 id="项目创建"><a href="#项目创建" class="headerlink" title="项目创建"></a>项目创建</h3><p>如果之前没有安装过全局create-react-app或者当前项目目录没有安装create-react-app的话，我们就需要先安装create-react-app脚手架。这里我就安装在当前项目目录了。<br>打开你的终端工具或者vs code的终端亦或是CMD窗口，然后输入切换到你想要目录，接着copy下面的命令，按回车键即可。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add create-react-app</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>不清楚yarn或者没有安装yarn？<a href="https://yarnpkg.com/zh-Hans/">点击去这里看官方文档</a></p>
</blockquote>
<p>等待一会儿，安装好了之后，我们就可以用create-react-app来创建react项目。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npx create-react-app [project-name]</span><br></pre></td></tr></table></figure></p>
<p>命令窗口噼里啪啦一阵输出之后，项目就创建好了，然后根据窗口提示，我们切换到[project-name]的目录，然后使用yarn eject命令生成自定义配置文件。</p>
<blockquote>
<p>当npx create-react-app [project-name]命令执行完毕后，可以观察一下[project-name]目录结构。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ cd [project-name]</span><br><span class="line"></span><br><span class="line">$ yarn eject</span><br></pre></td></tr></table></figure>
<p>根据提示，输入y，之后又一阵噼里啪啦输出后，success！<br>这个时候，再去观察一下[project-name]项目目录结构，你会发现多了一个config目录。那这个config目录就是包含了一些配置工程的文件。可以看如下图的目录结构：<br><img src="/images/react/01.png" alt="项目目录结构">;</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>项目安装好了之后，我们就可以使用yarn start启动服务了。不过稍加留意的同学会发现当start之后，如果webapck-dev-tool启动local server成功会清掉之前启动的一些配置文件打印信息。如果想要保留，那我们就需要对配置文件进行一些重新配置了。</p>
<h4 id="1、命令行打印信息自定义"><a href="#1、命令行打印信息自定义" class="headerlink" title="1、命令行打印信息自定义"></a>1、命令行打印信息自定义</h4><p>命令行上面所打印的信息来源于webpack，而执行webpack的脚本命令在scripts目录下面的js文件内。因此，我们找到对应命令所执行的文件。在package.json文件里面 yarn start 所执行的是 start.js 文件，那么我们就关注 start.js 里面到底哪里有 clear console 的操作。<br>其实不难发现，命令行上打印的一些信息都来着webpac dev server，所以我们重点看下dev server相关的配置里面有没有 clear console 操作。</p>
<h5 id="1）创建utils-js文件"><a href="#1）创建utils-js文件" class="headerlink" title="1）创建utils.js文件"></a>1）创建utils.js文件</h5><p>进过一番查找我们发现<strong>choosePort</strong>和<strong>createCompiler</strong>里面有，因此我们可以在<strong>scripts</strong>目录下面新建一个utils.js文件，把choosePort和createCompiler方法copy放到utils.js文件内，然后对里面的<strong>clearConsole</strong>进行删除。<br>注意这两个方面里面的一些引入，要在utils.js里面把相关的引用import进来，不然后面再start会报错的。</p>
<blockquote>
<p>看到里面的console.log没有？觉得它的文案不满意，那就改改改吧。<br>处理完之后，我们记得要export出去，不然我们要用到utils.js这个文件里面的方法，就没办法用啦。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  choosePort,</span><br><span class="line">  createCompiler</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
</blockquote>
<h5 id="2）修改start-js"><a href="#2）修改start-js" class="headerlink" title="2）修改start.js"></a>2）修改start.js</h5><p>utils.js文件弄好之后，我们来修改start.js文件，把原先引入的<strong>choosePort</strong>和<strong>createCompiler</strong>两个方法去掉，然后引入我们utils.js文件里面的<strong>choosePort</strong>和<strong>createCompiler</strong>。<br>如果没什么意外，这个时候再yarn start后，我们就可以看到命令行上面就会一直保留了我们服务启动后的一些打印信息了。</p>
<h4 id="2、自定义域名和端口"><a href="#2、自定义域名和端口" class="headerlink" title="2、自定义域名和端口"></a>2、自定义域名和端口</h4><p>配置本地服务的域名和端口的话，我们需要用到Host管理工具。Mac系统的推荐<strong>Gas Mask</strong>或者<strong>SwitchHost</strong>，Windows系统的话可以用<strong>SwitchHost</strong>或者可以直接修改Host文件（当然能用工具最好，方便管理）。<br><img src="/images/react/02.png" alt="Host管理工具Gas Mask"><br>Host的配置如上图。<br>下面，我们还要再新建一个config.json文件，这个文件可以建在[project-name]的一级目录下，然后在copy下面的内容到config.json文件内，并保存。<br><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"Client_HOST"</span>: <span class="string">"www.company.com"</span>,</span><br><span class="line">  <span class="attr">"Client_PORT"</span>: <span class="number">80</span>,</span><br><span class="line">  <span class="attr">"Client_PROTOCOL"</span>: <span class="string">"http"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>上面的”Client_*是可以修改的成自己的，以及这里的域名和端口都可以改成自己想要的。</p>
</blockquote>
<p>然后我们再打开scripts目录下面的start.js文件，引入config.json，然后修改对应的<strong>DEFAULT_PORT</strong>、<strong>HOST</strong>以及<strong>protocol</strong>的赋值语句。如下图：<br><img src="/images/react/03.png" alt="config.json --&gt; start.js"><br>搞定之后，再执行yarn start看看，这个时候命令行应该会提示你config.json不能被import。因此我们还需要配置config目录下面的paths.js文件，在<strong>appPackageJson</strong>后面新增一个字段<strong>appConfigJson</strong>。<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">appConfigJson: resolveApp(<span class="string">'config.json'</span>),</span><br></pre></td></tr></table></figure></p>
<p>保存，然后再修改<strong>webpack.config.dev.js</strong>，找到<strong>new ModuleScopePlugin</strong>，修改成如下：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> ModuleScopePlugin(paths.appSrc, [paths.appPackageJson, paths.appConfigJson]),</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>当我们使用的文件不在<strong>src/</strong>目录或者某些地方import的文件路径<strong>../</strong>超出了src/的目录路径后，会提示你要最好把文件移到src/目录下面。这个时候修改<strong>ModuleScopePlugin</strong>就可以解决问题了。</p>
</blockquote>
<p>修改并保存webpack.config.dev.js后，再次重新yarn start，这个时候就可以看到浏览器打开了我们配置的域名站点了。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/自定义配置typescript-react项目本地域名/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/自定义配置typescript-react项目本地域名/" itemprop="url">
                  自定义配置typescript+react项目本地域名
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-16 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-16T00:00:00+08:00">2018-03-16</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:44:05" itemprop="dateModified" datetime="2018-03-22T18:44:05+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>前一篇教了大家如何《<a href="https://webappdevelp.github.io/2018/03/%E4%BD%BF%E7%94%A8create-react-app%E5%BF%AB%E9%80%9F%E6%90%AD%E5%BB%BAtypescript%E7%89%88React%E9%A1%B9%E7%9B%AE/">使用create-react-app快速搭建typescript+react项目</a>》，今天说说怎么配置开发环境中的域名&amp;端口信息。—这篇幅将会是上一篇幅中自定义配置内容的开始</p>
<h3 id="Host配置"><a href="#Host配置" class="headerlink" title="Host配置"></a>Host配置</h3><p>本地环境域名配置需要准备一件Host管理工具，Mac系统可以使用<strong>Gas Mask</strong>、<strong>switchHost</strong>等，Windows用户可以用<strong>switchHost</strong>，当然你也可以不使用此类工具，不过非常推荐使用，毕竟一个企业在对项目的开发上面还是有分本地环境、测试环境、预发布环境以及正式（线上）环境的，每个环境Host对应的IP又不一样，正好可以用此类工具进行Host的管理。<br><img src="/images/180316/01.png" alt="Gas Mask"></p>
<h3 id="Config配置"><a href="#Config配置" class="headerlink" title="Config配置"></a>Config配置</h3><p>还是跟上一篇一样，我们看一下目录结构，下图只是项目名称不一样，内部文档目录是和上一篇文章的截图是一样的。我们在<strong>config</strong>目录下面新建一个<strong>config.json</strong>配置文件，配置一下本地环境的域名、端口号以及所使用的协议。<br><img src="/images/180316/02.png" alt="config.json"></p>
<h3 id="Start修改"><a href="#Start修改" class="headerlink" title="Start修改"></a>Start修改</h3><p>找到<strong>scripts</strong>目录下面的<strong>start.js</strong>文件，然后把我们上面建好的<strong>config.json</strong>引入进来，修改好之后运行<code>yarn start</code>就可以在浏览器看到效果了。<br><img src="/images/180316/03.png" alt=""></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/使用create-react-app快速搭建typescript版React项目/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/使用create-react-app快速搭建typescript版React项目/" itemprop="url">
                  使用create-react-app快速搭建typescript版React项目
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-15 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-15T00:00:00+08:00">2018-03-15</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:42:51" itemprop="dateModified" datetime="2018-03-22T18:42:51+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>本人写typescript有近一年的时间了，可能有人要问写了几年的javascript了，好好的，为什么又来折腾typescript呢？直白的回答就是typescript能让你在调用方法时马上知道该传什么类型的参数，或者在取数据的时候能快速的提取字段。深奥一点的回答就是：typescript能帮你在写代码的时候做类型检查，并在编译成可执行文件的时候提示你哪里出错了，以便于你能快速的解决。<br>关于typescript的学习，我不在这里进行深入的系统的讲，大家可以点击下面链接去到typescript中文网站去学习。我们这里要讲的是如何利用create-react-app来快速搭建typescript版react的项目环境。</p>
<blockquote>
<p>typescript中文版网站，可以<a href="https://www.tslang.cn/">点击这里</a></p>
</blockquote>
<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><h4 id="1、先安装create-react-app"><a href="#1、先安装create-react-app" class="headerlink" title="1、先安装create-react-app"></a>1、先安装create-react-app</h4><p>这里个人喜欢安装本地版（非全局安装），然后使用npm的<strong>npx</strong>来执行create-react-app。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add create-react-app</span><br></pre></td></tr></table></figure></p>
<p>安装好了create-react-app后，我们就可以用这个工具来快速的创建react项目了。</p>
<h4 id="2、创建typescript版react项目"><a href="#2、创建typescript版react项目" class="headerlink" title="2、创建typescript版react项目"></a>2、创建typescript版react项目</h4><p><code>create-react-app [program]</code>默认情况下是只安装js版的react，而非我们所需要的ts版react。因此，需要在该命令行后面加上<code>--scripts-version=react-scripts-ts</code>参数。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ npx create-react-app [app] --scripts-version=react-scripts-ts</span><br></pre></td></tr></table></figure></p>
<p>等待片刻，就可以看到如下图的项目依赖安装的情况了。<br><img src="/images/180315/01.png" alt="图一"><br>装好了之后切换到[app]这个目录，你可以看到如下图的目录结构了。<br><img src="/images/180315/02.png" alt="图二"><br>然后启动项目：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn start</span><br></pre></td></tr></table></figure></p>
<p>一切顺利的话，浏览器会打开一个项目页面。但是…</p>
<p><strong>重要！！！</strong></p>
<p>注意下如上图一的红线框部分，如果<strong>@types/react</strong>在16.0.4而<strong>@types/react-dom</strong>的版本在15.5.7时，启动项目会报如下错误<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/node_modules/@types/react-dom/node_modules/@types/react/index.d.ts</span><br><span class="line">(3631,13): Subsequent property declarations must have the same type. </span><br><span class="line">Property &apos;a&apos; must be of type &apos;DetailedHTMLProps&lt;AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;, HTMLAnchorElement&gt;&apos;, </span><br><span class="line">but here has type &apos;DetailedHTMLProps&lt;AnchorHTMLAttributes&lt;HTMLAnchorElement&gt;, HTMLAnchorElement&gt;&apos;.</span><br></pre></td></tr></table></figure></p>
<p>这个问题其实也蛮好解决的，只需要更新<strong>@types/react-dom</strong>的版本就可以了。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn add @types/react-dom@16.0.4</span><br></pre></td></tr></table></figure></p>
<h3 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h3><p>按照上面的操作来配置项目的话，不能很好的做一些扩展。这个时候，我们要想能够实现自己扩展配置项的话，可以在当前项目下使用<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ yarn eject</span><br></pre></td></tr></table></figure></p>
<p>释放可配置的文件。此时再观察一下项目目录，会多了<strong>config</strong>和<strong>scripts</strong>两个目录。有了这两个目录我们就可以大刀阔斧的对配置进行改革了。不过，我这里暂时不做过多配置的方面的说明，毕竟配置才是重点，而且也是很多内容，后面会单独篇幅来讲解配置相关的内容。<br>下面我拿一个项来讲讲配置。我们可以观察到在使用<code>yarn start</code>的时候，终端或者CMD上会将之前的log清除，然后又打印出来一些提示信息。这里的这个清除操作，虽然不是很重要，但是总觉得它让我错过了些不可描述的内容。于是乎，我要倒退重放！<br>找到<strong>scripts</strong>目录下的<strong>start.js</strong>文件，打开它并找到引入的<strong>choosePort</strong> 和 <strong>createCompiler</strong>，追根溯源，找到这两个方法，然后copy出来，放到某个js文件内，然后把对应两个方法里面的<strong>clearConsole()</strong>去掉，再重新引入到<strong>start.js</strong>文件里面去，这个时候再次<code>yarn start</code>会发现之前一闪而过的“隐私”总算是露出真容了。</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/03/git的日常使用命令备忘录/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/03/git的日常使用命令备忘录/" itemprop="url">
                  git的日常使用命令备忘录
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-03-12 00:00:00" itemprop="dateCreated datePublished" datetime="2018-03-12T00:00:00+08:00">2018-03-12</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-07-09 09:50:57" itemprop="dateModified" datetime="2018-07-09T09:50:57+08:00">2018-07-09</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/工具/" itemprop="url" rel="index"><span itemprop="name">工具</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>查看下图，了解git的几个概念，会对git的使用有一个大致的了解。<br><img src="/images/180312/git.png" alt=""></p>
<ul>
<li>Workspace：工作区</li>
<li>Index / Stage：暂存区</li>
<li>Repository：仓库区（或本地仓库）</li>
<li>Remote：远程仓库</li>
</ul>
<h3 id="Git本地版本库操作"><a href="#Git本地版本库操作" class="headerlink" title="Git本地版本库操作"></a>Git本地版本库操作</h3><h4 id="1、查看git全局配置信息"><a href="#1、查看git全局配置信息" class="headerlink" title="1、查看git全局配置信息"></a>1、查看git全局配置信息</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ git config -l</span><br></pre></td></tr></table></figure>
<h4 id="2、配置git的全局变量"><a href="#2、配置git的全局变量" class="headerlink" title="2、配置git的全局变量"></a>2、配置git的全局变量</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ git config --global user.name [username]</span><br><span class="line">$ git config --global user.email [email]</span><br></pre></td></tr></table></figure>
<h4 id="3、查看本地git公钥和私钥"><a href="#3、查看本地git公钥和私钥" class="headerlink" title="3、查看本地git公钥和私钥"></a>3、查看本地git公钥和私钥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ cd ~/.ssh</span><br></pre></td></tr></table></figure>
<h4 id="4、生成git公钥和秘钥"><a href="#4、生成git公钥和秘钥" class="headerlink" title="4、生成git公钥和秘钥"></a>4、生成git公钥和秘钥</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ssh-keygen -t rsa -C [email]</span><br></pre></td></tr></table></figure>
<h4 id="5、将本地目录初始化成本地git版本库"><a href="#5、将本地目录初始化成本地git版本库" class="headerlink" title="5、将本地目录初始化成本地git版本库"></a>5、将本地目录初始化成本地git版本库</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ cd [directory]</span><br><span class="line">$ git init</span><br></pre></td></tr></table></figure>
<h4 id="6、本地分支管理"><a href="#6、本地分支管理" class="headerlink" title="6、本地分支管理"></a>6、本地分支管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">$ git branch  // 查看本地所有分支及当前所在分支情况</span><br><span class="line"></span><br><span class="line">$ git branch [branchname]  // 当branchname不存在时，则创建新的branchname分支</span><br><span class="line"></span><br><span class="line">$ git checkout [branchname]  // 切换到branchname 分支上</span><br><span class="line"></span><br><span class="line">$ git checkout -b [branchname]  // 创建新分支并切换到新分支上</span><br><span class="line"></span><br><span class="line">$ git checkout -b [branchname] [tagname]  // 新建一个分支指定到某个tag</span><br><span class="line"></span><br><span class="line">$ git checkout -b [branchname] [remote|origin]/[branchname]  // 新建一个本地分支并且关联远端分支</span><br><span class="line"></span><br><span class="line">$ git branch -d [branchname]  // 删除某个分支</span><br><span class="line"></span><br><span class="line">$ git merge [branchname]  // merge某个分支到当前分支</span><br><span class="line"></span><br><span class="line">$ git merge [branchname1] [branchname2]  // 同上，将branchname1 合并到 branchname2上</span><br><span class="line"></span><br><span class="line">$ git rebase [branchname] // 将branchname 合并到当前分支</span><br><span class="line"></span><br><span class="line">$ git cherry-pick [commit]  // 遴选某个commit点到当前分支并作为新的commit提交</span><br></pre></td></tr></table></figure>
<blockquote>
<p>关于merge和rebase的区别，大家可以<a href="https://mp.weixin.qq.com/s?__biz=MzI5NTE1NDQ1MQ==&amp;mid=2650767725&amp;idx=1&amp;sn=5cd775c7878b7e7890d0418415b3f778">点击这里</a>去查看，说的比较详尽，结合实战去理解。</p>
</blockquote>
<h4 id="7、版本管理"><a href="#7、版本管理" class="headerlink" title="7、版本管理"></a>7、版本管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">$ git status  // 查看当前分支中的文件状态</span><br><span class="line"></span><br><span class="line">$ git add [filename]  // 添加某个文件到暂存区（此文件需有改动）</span><br><span class="line"></span><br><span class="line">$ git add .  // 添加所有改动过的文件到暂存区</span><br><span class="line"></span><br><span class="line">$ git commit -m [message]  // 将暂存区的文件提交到本地仓库区</span><br><span class="line"></span><br><span class="line">$ git commit --amend -m [message]  // 重新提交一次或改写一次提交信息到本地仓库区</span><br><span class="line"></span><br><span class="line">$ git checkout [filename]  // 丢弃某个修改的文件</span><br><span class="line"></span><br><span class="line">$ git checkout .  // 丢弃所有的修改</span><br><span class="line"></span><br><span class="line">$ git log  // 查看提交记录</span><br><span class="line"></span><br><span class="line">$ git log [branch]  // 查看某个分支的log</span><br><span class="line"></span><br><span class="line">$ git log --pretty=oneline  // 将每次提交的记录精简成一行显示</span><br><span class="line"></span><br><span class="line">$ git blame [filename]  // 查看某个文件是谁在什么时间修改了什么内容</span><br><span class="line"></span><br><span class="line">$ git reset [filename]  // 将指定文件从暂存区恢复到上一次commit的提交，但工作区文件不变</span><br><span class="line"></span><br><span class="line">$ git reset [commit]  // 将暂存区内容重置到指定commit上，但工作区不变</span><br><span class="line"></span><br><span class="line">$ git reset --hard  // 重置暂存区和工作区，使其保持和上一次commit的提交一致</span><br><span class="line"></span><br><span class="line">$ git reset --hard [commit]  // 将暂存区和工作区重置到指定commit时一致</span><br><span class="line"></span><br><span class="line">$ git revert HEAD  // 恢复到上一次提交，并创建一次新的提交</span><br><span class="line"></span><br><span class="line">$ git revert [commit]  // 恢复到指定的某一次提交，并创建新的提交</span><br><span class="line"></span><br><span class="line">$ git push --force  // 强制向远端仓库推送，并覆盖远端内容，使其保持和本次提交的一致</span><br></pre></td></tr></table></figure>
<h4 id="8、查看文件差异"><a href="#8、查看文件差异" class="headerlink" title="8、查看文件差异"></a>8、查看文件差异</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ git diff [filename]  // 比较当前文件和暂存区文件的差异</span><br><span class="line"></span><br><span class="line">$ git diff  // 同上</span><br><span class="line"></span><br><span class="line">$ git diff [commit1] [commit2]  // 比较两次提交之间的差异</span><br><span class="line"></span><br><span class="line">$ git diff [branch1] [branch2]  // 比较两个分支之间的差异</span><br><span class="line"></span><br><span class="line">$ git diff --staged / --cached  // 比较暂存区和版本库之间的差异</span><br></pre></td></tr></table></figure>
<h4 id="9、标签管理"><a href="#9、标签管理" class="headerlink" title="9、标签管理"></a>9、标签管理</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ git tag // 查看当前版本库中的所有tag</span><br><span class="line"></span><br><span class="line">$ git tag [tagname]  // 在当前commit上新建一个tag</span><br><span class="line"></span><br><span class="line">$ git tag [tagname] [commit]  // 在指定commit上新建一个tag</span><br><span class="line"></span><br><span class="line">$ git show [tagname]  // 查看tag信息</span><br><span class="line"></span><br><span class="line">$ git push [remote|origin] [tagname]  // 提交指定tag到远端仓库</span><br><span class="line"></span><br><span class="line">$ git push [remote|origin] --tags  // 提交所有tag到远端仓库</span><br><span class="line"></span><br><span class="line">$ git push [remote|origin] --delete [tagname]  // 删除远端tag</span><br></pre></td></tr></table></figure>
<h3 id="Git远端仓库管理"><a href="#Git远端仓库管理" class="headerlink" title="Git远端仓库管理"></a>Git远端仓库管理</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">$ git remote add [remote|origin] &apos;remote url&apos;  // 将本地仓库与远端仓库关联</span><br><span class="line"></span><br><span class="line">$ git push -u [remote|origin] [branchname]  // 将某个分支的所有修改推送到远端并实现关联</span><br><span class="line"></span><br><span class="line">$ git push [remote|origin] [branchname]  // 推送某个分支到远端</span><br><span class="line"></span><br><span class="line">$ git push [remote|origin] --force  // 强行向远端推送当前分支，并覆盖远端的当前分支内容，即便存在冲突</span><br><span class="line"></span><br><span class="line">$ git pull [remote|origin] [branchname]  // 更新远端变更到本地仓库，并和本地文件合并</span><br><span class="line"></span><br><span class="line">$ git fetch [remote|origin] [branchname]  // 下载远端更新，但不和本地文件合并</span><br><span class="line"></span><br><span class="line">$ git branch -r  // 查看远端的所有分支</span><br><span class="line"></span><br><span class="line">$ git branch -r -D [remote|origin] [branchname]  // 删除远端某个分支</span><br><span class="line"></span><br><span class="line">$ git branch origin :[branchname]  // 删除远端分支后同步更新到远端</span><br><span class="line"></span><br><span class="line">$ git branch --set-upstream [branchname] origin/[branchname]  // 将本地分支与远端分支进行关联</span><br></pre></td></tr></table></figure>
<hr>
<p>附一张git命令速查表<br><img src="/images/180312/git-su-cha.jpg" alt=""></p>
<blockquote>
<p>参考资料来源：<a href="http://www.imooc.com/article/2733">常用Git命令清单</a>、<a href="http://www.imooc.com/article/1111">Git常用命令备忘</a>、<a href="http://www.imooc.com/article/2658">Git入门私房菜</a></p>
</blockquote>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/React是怎样炼成的/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/React是怎样炼成的/" itemprop="url">
                  React是怎样炼成的
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-02-26 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-26T00:00:00+08:00">2018-02-26</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:42:19" itemprop="dateModified" datetime="2018-03-22T18:42:19+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>看完《<a href="https://segmentfault.com/a/1190000013365426">React是怎样炼成的</a>》后，总算是理解了Virtual DOM是个什么鬼了，以及大致的了解到React是怎么处理更新操作的。大家有兴趣的可以去看看，很推荐！！！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/如何写出类似Person-run-say-这样可以连贯操作的方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Frank">
      <meta itemprop="description" content="记录工作、生活中的点点滴滴">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="🐈猫被调戏了">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/02/如何写出类似Person-run-say-这样可以连贯操作的方法/" itemprop="url">
                  如何写出类似Person.run().say()...这样可以连贯操作的方法
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2018-02-23 00:00:00" itemprop="dateCreated datePublished" datetime="2018-02-23T00:00:00+08:00">2018-02-23</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2018-03-22 18:43:35" itemprop="dateModified" datetime="2018-03-22T18:43:35+08:00">2018-03-22</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/前端/" itemprop="url" rel="index"><span itemprop="name">前端</span></a></span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>为何会写这样的内容，起因是因为之前去面试的时候一家公司给出的面试题里出现了这样的。当时看的时候或许是因为时间紧迫或许是自身知识储备不精的问题，没有写出来。由于是内推的公司，其实我没去做试题，而是直接要求的面谈和实战操作，以便减少不必要的时间成本。<br>不多说，一开始看到这样的，肯定能想到javascript的继承与原型链，但只想到这个还不够的。你只能让Person对象run一次，后面的say则会报TypeError。<br>来看下栗子：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> human = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'human'</span>;</span><br><span class="line">&#125;;</span><br><span class="line">human.prototype = &#123;</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1km'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'I\'m '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> Person = <span class="keyword">new</span> human();</span><br><span class="line">Person.run().say();</span><br></pre></td></tr></table></figure></p>
<p>嗯，这样肯定是不行的，say的调用找不到正确的爸爸了，那么是谁在调用say？是human，而human是不能够调用自身的say方法的。human的原型是谁？是Object，Object上面并没有say方法可以供human继承。<br>So，这里就涉及到 javascript 中 <strong>this</strong> 的理解和正确调用的问题了。想要Person.run()正确调用say，那么在run里面就必须返回Person，只有Person继承了human的say。所以，代码应该这样改：<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> human = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'human'</span>;</span><br><span class="line">&#125;;</span><br><span class="line">human.prototype = &#123;</span><br><span class="line">  run: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'1km'</span>);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;  <span class="comment">// 关键在这里 return this，把this返回</span></span><br><span class="line">  &#125;,</span><br><span class="line">  say: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'I\'m '</span> + <span class="keyword">this</span>.name);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>;  <span class="comment">// 关键在这里 return this，把this返回</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> Person = <span class="keyword">new</span> human();</span><br><span class="line">Person.run().say();</span><br></pre></td></tr></table></figure></p>
<p>好了，写代码总会碰到很多奇奇怪怪的问题，不过只要会去思考，应该是没什么困难的。给自己打call！！！</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/2/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Frank</p>
              <p class="site-description motion-element" itemprop="description">记录工作、生活中的点点滴滴</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">33</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">5</span>
                    <span class="site-state-item-name">分类</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">25</span>
                    <span class="site-state-item-name">标签</span>
                  
                </div>
              
            </nav>
          

          

          

          
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Frank</span>

  

  
</div>




  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动 v3.5.0</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://theme-next.org">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    
	
    

    
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  



  





  










  
  <script src='https://unpkg.com/mermaid@7.1.2/dist/mermaid.min.js'></script>
  <script>
    if (window.mermaid) {
      mermaid.initialize({"theme":"forest","logLevel":5,"startOnLoad":true,"arrowMarkerAbsolute":false,"flowchart":{"htmlLabels":true,"useMaxWidth":true,"curve":"linear"},"sequence":{"diagramMarginX":50,"diagramMarginY":10,"actorMargin":50,"width":150,"height":65,"boxMargin":10,"boxTextMargin":5,"noteMargin":10,"messageMargin":35,"mirrorActors":true,"bottomMarginAdj":1,"useMaxWidth":true},"gantt":{"titleTopMargin":25,"barHeight":20,"barGap":4,"topPadding":50,"leftPadding":75,"gridLineStartPadding":35,"fontSize":11,"fontFamily":"\"Open-Sans\", \"sans-serif\"","numberSectionStyles":4,"axisFormat":"%Y-%m-%d"}});
    }
  </script>


  





  

  

  

  

  
  

  

  

  

  

  

</body>
</html>
